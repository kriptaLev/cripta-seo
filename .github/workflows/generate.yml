name: Generate SEO pages

on:
  workflow_dispatch:

jobs:
  generate:
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v4

      - name: Generate pages
        run: |
          mkdir -p pages
          i=0
          while IFS= read -r keyword || [ -n "$keyword" ]; do
            i=$((i+1))
            slug="page-$i"
            file="pages/$slug.md"

            cat <<EOF > "$file"
# $keyword

–ü–æ–¥—Ä–æ–±–Ω—ã–π –∏ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Ä–∞–∑–±–æ—Ä –∑–∞–ø—Ä–æ—Å–∞ "$keyword" –¥–ª—è —Ä—É—Å—Å–∫–æ—è–∑—ã—á–Ω–æ–π –∞—É–¥–∏—Ç–æ—Ä–∏–∏.

## –ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ
–û–±—ä—è—Å–Ω–µ–Ω–∏–µ —Ç–µ–º—ã: $keyword.

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
–ü—Ä–æ—Å—Ç–æ–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –±–µ–∑ —Å–ª–æ–∂–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤.

## –ü–ª—é—Å—ã –∏ –º–∏–Ω—É—Å—ã
–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è.

## –ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã
–û—Ç–≤–µ—Ç—ã –Ω–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –≤–æ–ø—Ä–æ—Å—ã.

üëâ –ü–æ–¥—Ä–æ–±–Ω–µ–µ: https://example.com
EOF

          done < keywords.txt

      - name: Commit pages
        run: |
          git config user.name "seo-bot"
          git config user.email "seo@bot.com"
          git add pages
          git commit -m "Auto-generate SEO pages" || echo "Nothing to commit"
          git push
